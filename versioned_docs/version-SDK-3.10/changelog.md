---
sidebar_position: 9
---

# 更新日志

## 版本号规则

Example 2022.1.1

- `2022` 年份
- `1` 月份
- `1` build 版本号
----
## `Version 2022.12.1`

### 2022-11
- 编辑器
  - 传统文档
    - 🌟 新功能
      - 设置主题字体：自定义文档的默认字体
      - 选择性粘贴：保留原格式、匹配目标格式、仅文本
      - Mobile Web 端支持手机视图和打印视图切换：
        - 手机视图方便手机用户使用，去掉了传统的分页效果，内容排版适应屏幕尺寸，使得编辑和查看体验更佳，同时也能随时切换查看传统的打印排版；
      - 支持历史和版本的分类：
        - 历史可预览、查看编辑记录，恢复历史
        - 版本支持保存、重命名、删除、预览、查看编辑记录，恢复版本
    - 🐞 修复
      - Mobile Web 长按后悬浮菜单会遮挡选中的内容
      - 脚注尾注中插入科学公式会报错
      - 插入目录样式显示不对
      - 字体栏搜索后，退出搜索页面，再次打开字体列表，显示的还是搜索后的结果
      - 切换英文字体后，字符间距会显示不对
      - block 级别的内容控件中插入超链接，超链接之后的内容会消失
      - 协作者光标丢失时，字号会显示为 undefined
      - 浏览器的比例缩放后，文档底部菜单显示异常
      - 插入目录失败
      - iPad 接入外接键盘后，点击 @ 菜单，需要点两下才能选中，且页面会发生跳转
      - 文档中有多节时，设置脚注页面布局后应用于整篇文档，设置只会应用到当前节
      - 从工具栏插入页眉页脚时，没有显示光标
      - 第一个段落插入尾注，第二个段落分栏，文档报错
      - 回复评论时，不会跳转到最新的一条评论处
      - 符号面板打开的情况下，插入常用符号后再随意选择字体符号，最近符号列表里面的常用符号会被替换
  - 表格
    - 🌟 新功能
      - 表格记忆式输入
      - 插入符号
      - 备注/日期提醒支持显示用户名片
      - sort 函数支持中文 &  性能优化
      - 公式格式转换，提升导入导出性能
      - 合并工作表内部引用优化，跨表格引用当前表格内的数据更新结果更快，提升引用结果的更新速度
      - 数据验证/条件格式粘贴卡顿优化
      - 锁定禁止查看 + 全局历史优化
      - 优化富文本渲染性能
      - 选择性粘贴支持计算
    - 🐞 修复
      - 修复公式显示不正常，重新输入后依然有误的问题
      - 修复 filter 筛选列计算结果错误，导致数据汇总表中公式计算不出来的问题
      - 修复引用单元格内包含多个附件，引用结果打不开的问题
      - 修复链接剪切粘贴到其他位置，刷新页面，原位置仍显示链接的 URL 的问题
      - 修复 iPad 打开表格，无法显示工作表栏的问题
      - 修复合并同一个表格的工作表，数据不同步的问题
      - 修复粘贴大量富文本内容导致表格滑动卡顿的问题
      - 修复合并工作表计算结果不正确的问题
      - 修复表格导出格式不正确的问题
      - 修复合并有权限的工作表提示无权限的问题
      - 修复记忆式输入列表内容中字母全变成了小写的问题
      - 修复富文本内容带换行且中间有多个空格，跨表格粘贴后富文本样式错位的问题
      - 修复工作表排序后再删除工作表导致计算结果有误的问题
      - 修复自定义数字格式的单元格跨表格引用到新表显示为日期格式的问题
      - 修复合并工作表中日期格式的单元格创建数据透视表后变为数字格式的问题
      - 修复公式跨工作表嵌套引用合并工作表，结果不正确的问题
      - 修复跨表格引用后修改工作表名，引用公式未更新的问题
      - 修复单元格中有特殊字符的空格导致查找替换找不到内容的问题
      - 修复复制包含多个条件格式的单元格区域，粘贴后部分条件格式丢失的问题
      - 修复插入列后公式不更新导致错行的问题
      - 修复 iPad 打开表格，选取部分文字设置颜色，不能完全包含要设置的文字的问题
  - 轻文档
    - 🌟 新功能
      - 色板支持自定义颜色
    - 🐞 修复
      - 有可评论权限、无可编辑权限也可以结束评论
      - 滚动页面到文档标题底线附近，进入演示模式后有概率浏览器卡死
      - 补充翻译"文档样式"和"设置默认字号、字体"
      - 网页预览窗-网页预览窗边框拖动时，鼠标拖动位置和实际边框变动位置不符
      - 英文和日文环境下，附件名称比较长时，预览按钮会被挤压出卡片
      - 文本超链接进行移除链接之后，应该只选中链接文本而不是整行的文本
      - 插入超链接，变为卡片视图再变回文本视图，会导致 LineId 丢失
      - 列表行中出现连续多个 mention 元素时，转换其中某个文件 mention 为 preview 形态时，可能出问题
      - 数学公式输入框层级过低，可能被遮挡
      - 在微信端和手机浏览器中，存在较多行的小表格时，向下滑动时可能出现卡顿问题
      - 复制行内代码格式内容覆盖到小表格原有内容上有可能失败
  - 幻灯片
    - 🚀 优化
      - 历史 & 版本功能重构
    - 🐞 修复
      - 导入 .pptx，文件对象可能显示内容异常
      - 在幻灯片插入一个行列超过 10 的表格，全选表格，可能有部分内容不会高亮
      - 从 PowerPoint 复制文本，粘贴到石墨幻灯片，不能正常显示文本
  - 应用表格
    - 🌟 新功能
      - 单选选项过长时 hover 可展示全部内容
      - 记录详情页展开方式优化，交互形式：弹窗 -> 右侧展开
      - 评论 @ 文件支持点击即跳转
      - 视图配置入口统一在工具栏右侧展示，分组等样式优化了
    - 🐞 修复
      - 修复日历视图/甘特视图中跟随颜色字段异常时渲染错误的问题
      - 修复查看附件时图片为压缩图片的问题
  - 表单
    - 🌟 新功能
      - 新增题型「多段填空题」
      - 移动端填写详情补充用户名片
- 服务端
  - 导入导出
    - 🌟 新功能
      - 应用表格支持导入 .xlsx 文件中 Sheet 为子表
      - 应用表格支持 [导出为 .xlsx 文件](./apis.md#export-table-sheets)
  - SDK 事件
    - 🌟 新功能
      - 应用表格编辑推送内容更新事件
- 📚 接入文档
  - 石墨接口
    - 💥 移除
      - 移除废弃的导入导出接口说明
        - `(废弃)导入文件`, 需使用 [导入文件](./apis.md#import-v1) 接口
          - 原地址 `POST https://shimo-domain/sdk/v2/api/files/import`
        - `(废弃)获取导入进度`，需使用 [获取导入进度](./apis.md#import-progress-v1) 接口
          - 原地址 `POST https://shimo-domain/sdk/v2/api/files/import/progress`
        - `(废弃)导出文件`，需使用 [导出文件](./apis.md#export-v1) 接口
          - 原地址 `POST https://shimo-domain/sdk/v2/api/files/export/{fileId}`
        - `(废弃)获取导出进度`，需使用 [获取导出进度](./apis.md#export-progress-v1) 接口
          - 原地址 `POST https://shimo-domain/sdk/v2/api/files/export/progress`
      - 移除 [获取历史列表接口](./apis.md#doc-sidebar-info) 旧版本接口 URL 的废弃说明
----
## `Version 2022.10.1`
### 2022-09
- JS SDK
  - 需要升级到 `shimo-js-sdk@^1.0.3` 才能保证功能正常
- 编辑器
  - 轻文档
    - 🌟 新功能
      - 文档中输入「 / 」快速打开菜单，支持设置段落样式或插入内容
      - 文档中插入预览窗可直接预览任意网页内容，超链接可一键转为预览视图
      - 文档中长按段落左侧菜单入口并拖拽来移动内容位置
    - 🐞 修复
      - 「 / 」命令
        - 在引用中通过搜索可以搜索到不允许插入的 “网页预览窗” 等
        - 空白文档的 Placeholder 在设置标题样式和行距后未同步样式到 Placeholder 本身
      - 宽表格
        - 宽表格在向下滑动过程中自动左右滚动
      - 表格
        - 附件中的截图位置，在.前输入空格，会造成小表格被删除
        - 在表格中输入代码高亮语法 `kind` 后，继续输入空格，会造成表格后面的文本内容错乱
      - 超链接卡片若没有 logo 展示时，展示“破图”占位
      - 有内容的数学公式第一次激活，输入框中总是为空
  - 表格
    - 🌟 新功能
      - 底部工具栏增加「全屏模式」入口
      - 数据透视表-计算字段
      - 工作表菜单增加「新建工作表」
      - 二级菜单 hover 时保持一级菜单背景色
      - 图片旋转
    - 🚀 优化
      - 评论完善添加、删除、修改等功能
      - iPad（M1芯片）滚动卡顿优化
      - 性能优化：Lookup Filter 多条件查询场景导致计算卡顿
      - 性能优化：排序算法优化
      - 性能优化：优化 rangeCalc 初始化标记导致的卡顿
    - 🐞 修复
      - 跨表格引用的数据与原表不一致的问题
      - 设置锁定工作表不可见，锁定单元格可编辑权限，搜索不到可见内容的问题
      - 在筛选下一行上传浮动图片，浮动图片不显示的问题
      - 设置字号后缩放表格的比例，Enter 输入后字体变小的问题
      - 表格无痕模式显示为超链接，非无痕模式显示文本的问题
      - filter 引用表单工作表的附件数据，刷新页面后附件变成纯文本的问题
      - 使用合并工作表数据创建数据透视表，透视表无法显示的问题
      - 老表格评论获取失败的问题
      - 数据透视表不显示的问题
      - 激活单元格，无法输入色值设置颜色的问题
      - 链接到当前表格其他工作表的单元格后，单元格位置发生变动，链接引用范围没有更新的问题
      - 表格 address 公式计算结果不正确的问题
  - 幻灯片
    - 🌟 新功能
      - 文本填充支持渲染：纯色、渐变色、纹理、图片填充
      - 文本轮廓支持渲染：纯色、实线、虚线、线宽
    - 🐞 修复
      - 复制图片，跨幻灯片粘贴，粘贴后图片不显示，刷新正常
      - 复制表格内容，在备注中进行粘贴，第一个单元格文本会丢失
      - 打开石墨幻灯片，复制文本粘贴到备注区后，切换一页，继续复制文本在备注中粘贴，控制台报错
      - 复制带有渐变填充/纹理填充/图片填充的文本，粘贴到备注中，填充色会变成高亮色显示
      - 插入形状，进行颜色填充，设置透明度。进行复制粘贴后，形状的填充颜色透明度丢失，应该保持一样的透明度
      - 从轻文档复制图片，粘贴到幻灯片，不显示
      - 在幻灯片插入一个行列超过 10 的表格，全选表格，有部分内容不会高亮
      - 从 PowerPoint 复制文本，粘贴到石墨幻灯片，不能正常显示文本
      - 导入 pptx 中带有渐变线文本轮廓，光标定位在截图中的文本框内，控制台报错
  - 传统文档
    - 🌟 新功能
      - 插入手写签名
      - 插入分割线
      - 插入符号：支持常用符号，以及插入特定字体下的符号全集
      - 选择性粘贴：支持保留原格式、匹配目标格式、仅粘贴文本三种类型
      - 颜色面板升级：支持色板取色、自定义颜色
    - 🐞 修复
      - 只评模式下，右键评论入口是灰的，应该亮起
      - 限制编辑情况下，点击签名区域，不应该出现签名弹窗
      - 分支上，插入超链接后，定位光标，会不停的插入超链接
      - 导入附件，对齐方式显示不对
      - 只读/只能评论的情况下，点击文档中位置，不应该出现键盘和工具栏
      - 线条类形状间使用格式刷，文档有报错
      - 裁剪图片，重置裁剪，刷新后还是裁剪后的图片
      - Mobile Web
        - Mobile 端，附件预览的情况下可以激活文档编辑页面
        - Mobile端，回复评论后关闭评论卡片，页面上会有空白加载区域
        - 文本设置字号后，Mobile 定位光标或选中查看，字号会一直不变
      - iOS
        - iOS 端，@ 后删除 @ 符号，工具栏上方会有一个背景条
  - 应用表格
    - 🌟 新功能
      - 文件全局历史功能
        - 每条历史都可以预览
        - 部分历史可以还原
        - 预览的表格内容支持复制粘贴
      - 支持快捷键，如 `Shift + Enter` 向下插入行、`Ctrl + Shift + v` 粘贴表头和内容等
      - 关联引用选择记录页面新增「添加记录」入口
      - 附件支持批量和拖拽上传
      - 支持通过 Excel 文件导入子表
  - 🌟 表单
- 服务端
  - 导入导出
    - 幻灯片
      - 修复导入 smartart 图表，未转换为图显示
      - 修复导入 wmf / emf 格式的图片后，图片背景色没有透明

----
## `Version 2022.8.1`
### 2022-07

- JS SDK
  - 轻文档 （Document）
    - 🌟 新增
      - 插入第三方服务 API `insertExternalApp`: 支持插入第三方 URL
- 编辑器
  - 轻文档
    - 🌟 新功能 & 🚀 优化
      - 连续小表格支持插入空行
      - 英文版文案更新和 UI 问题修复
  - 表格
    - 🌟 新功能 & 🚀 优化
      - 文本旋转
      - 图表增强
      - 支持插入迷你图
      - 甘特图支持按类别渲染多种颜色、配置优化
      - 图表增加趋势线
      - 气泡图配置优化
      - 支持在图表上直接修改标题
      - 表格评论支持回复、点赞
      - 套用表格样式增强：增加样式设置、支持边框线、增加最后一行、最后一列配置
      - 插入文本框，支持文本框导入导出
      - 工具栏文本对齐入口调整：垂直对齐和文本换行功能位置互换；支持文本截断
      - 补全公式 Subtotal 参数说明
      - 公式 weekday 支持更多参数类型：补全 type 11-17 的计算规则
      - 英文版文案更新和UI问题修复
      - 自动求和公式输入优化
      - 交互优化：点击工具栏公式按钮，直接触发自动求和
      - SUBTOTAL 使用时机优化：当自动求和区域有筛选的行数据时，使用 SUBTOTAL 替换 SUM，自动过滤筛除数据求和
      - 空白单元格计算规则：点击空白单元格自动求和，求和范围的查找逻辑优化，更符合 Excel 的计算逻辑
      - 性能优化：移除不必要的全局计算
      - 工具栏 - 「清除格式」优化，增加下拉菜单（清除全部、清除内容、清除格式）
      - 右键菜单 - 「清除」位置调整
    - 🐞 修复
      - 修复复制数据透视表列头跨 Sheet 粘贴需要粘贴两次才会生效的问题
      - 修复公式跨 Sheet 引用异常的问题
      - 修复锁定不可见内容导出后内容能看见的问题
      - 修复合并工作表更新慢、最新数据未更新的问题
      - 修复跨表格引用结果不符合预期的问题
      - 修复非中文环境下筛选「空」单元格失效的问题
      - 修复 Excel 表格附件预览不显示图片的问题
      - 修复自定义筛选不能输入选择列的问题
      - 修复工作表点击菜单按钮失效的问题
      - 禁止无编辑权限用户通过 fx 栏复制内容
  - 幻灯片
    - 🌟 新功能 & 🚀 优化
      - 代码调整优化
      - 点击 Delete 键盘，支持向后删除
      - 国际化文案调整：统一采用 sentence casing
      - 移动端加载失败图片支持重新加载
      - 导入 OLE 对象：支持 OLE 对象导入成图显示
      - 字体增强
      - 若干性能优化
    - 🐞 修复
      - 单元格背景色设置透明度失效
      - 选择图片填充，填充方式修改为“平铺”后，背景设置变成了无填充
      - 只评用户，无法删除自己评论或结束评论操作
      - 复制粘贴相关缺陷修复
      - 字体渲染异常缺陷修复
  - 传统文档
    - 🌟 新功能 & 🚀 优化
      - 历史版本可以筛选自动保存的版本和手动保存的版本
      - 支持形状线条的复合类型，改善了对「信函」类公文红头格式的支持
      - 全屏模式：支持全屏查看、编辑文档，扩大界面范围，有助改善体验和专注度
      - 支持 Mac 设备触摸板双指缩放
      - 优化 iOS 菜单栏操作体验；
      - iPad 妙控键盘支持 `Command(⌘) + C`、`Command(⌘) + V`、`Command(⌘) + X`、`Command(⌘) + A` 等快捷键操纵
      - 移动端支持点击文档内目录跳转
      - 打印预览加载速度优化
    - 🐞 修复
      - 插入表格后，整体缩放，然后点击单元格边线，会跳转到文档首页
      - Safari 浏览器，滚动查看页面时，浏览器底部菜单会消失，留下一片空白
      - iOS 设备首次点击，不会升起键盘，点击工具栏高度不对
      - Word 中设置段落底纹后，整段复制粘贴到传统文档中，底纹丢失
      - Word 中设置文本底纹后，导入底纹丢失
      - 设置高亮色后，输入英文，最后一个空格不会有高亮
      - 输入英文情况下，两端对齐显示不对
      - 在书签位置插入书签自身的超链接，连续点击，控制台有报错
      - 连续使用 @ 功能，search 接口报错，前端有错误提示
      - 点击光标不会自动弹出键盘
      - @ 人后选择通讯录，切换到组织架构，会有报错提示
      - @ 人时搜索不出来内容
      - @ 时间后切换时间，控制台有报错，文档无法编辑
      - 工具栏中部分二级菜单有滚动条
      - 嵌入型图片裁剪时使用 `Enter` 键确认，会使图片换行
      - 附件预览时控制台有报错
      - 空行使用 `Delete` 键删除，会显示异常，文档触发无限页
      - 书签在文档当前页下半页时，定位跳转不会跳转到对应位置
      - 进入全屏模式编辑后，底部会有一段背景色
      - 右下角的比例设置升起后，光标定位到正文中，设置页面不会收起
      - Mobile Web 端，页面放大到一定比例后，内容不显示
      - 文档放大后，页面下方工具栏和滚动条之间有背景
      - Mobile Web 端，选中空段落时，悬浮菜单的评论按钮应该禁用
      - 打开回复评论页面的情况下滚动查看，滚动条与评论页面有重叠
      - 光标定位到段落中间时，点击按钮放大/缩小字号，段落中字号会发生改变
      - 查看菜单下二级菜单的翻译丢失
      - 只能评论权限下，菜单栏中全屏编辑是禁用状态，右下角是可用状态
      - 点击超链接，不会跳转
- 服务端
  - 通用接口
    - 💥 移除或不兼容
      - license 接口不再获取当前用户，并且条件更严格
        - 要求 `scope: license`
        - 要求 `exp` < 5min，有效期小于 5 分钟
        - signature 满足以下条件才允许操作数据
          - signature 没有被使用过，即 signature 不允许重复使用
          - sig `exp` 未过期
    - 🚀 优化
      - 未设置回调地址时，返回明确的错误提示
        - 未设置接入方回调接口地址时 `endpoint_url should be configured before use`
        - 设置的接入方回调地址没有以 http(s):// 开头时 `endpoint_url must start with http(s)://`
  - 导入导出
    - 轻文档
      - 🚀 优化
        - 针对大文档导入的性能优化
        - 稳定性优化
    - 幻灯片
      - 🌟 新增
        - 支持文本轮廓导入/导出
        - 支持渐变填充导入/导出
- 📚 接入文档
  - 新增
    - 表格 API 相关的 [日期类型 OADate 数值转换示例](./apis.md#oadate-conversion-example)
    - [SDK 错误码](./errors.md) 说明补充
    - 添加文件 `permissions.copyable` 权限说明
  - 🐞 修正
    - 对于接入方实现接口中的时间格式说明，改为示例时间格式 `2022-01-01T09:00:01Z`，而非 format 字符串形式，避免不同语言的时间格式化用法差异引起的问题

## `Version 2022.7.1`
### 2022-07

- 📚 接入文档
  - 石墨接口
    - 🌟 新增
      - 创建文件接口增加 `应用表格 (table)` 类型说明
  - 服务商接口
    - `/events` 事件接口中 `评论`、`提及` 事件，增加应用表格描述

----
## `Version 2022.6.1`
### 2022-05

- JS SDK
  - [shimo-js-sdk](https://www.npmjs.com/package/shimo-js-sdk) 最低版本要求 `0.15.0`，低于这个版本部分功能会异常
  - 轻文档 （Document）
    - 💥 移除或不兼容
      - 保存状态变化事件应使用 [`saveStatusChanged`](https://github.com/shimohq/shimo-js-sdk/blob/master/docs/interfaces/Document.EventMap.md#savestatuschanged)，原事件 [`saveStatusDidChange`](https://github.com/shimohq/shimo-js-sdk/blob/master/docs/interfaces/Document.EventMap.md#savestatusdidchange) 已废弃。
    - 🌟 新增
      - 显示/隐藏评论侧边栏 API - showComments/hideComments
      - 添加插入第三方服务 API - insertExternalApp
- 编辑器
  - 轻文档
    - 🌟 新增
      - @ Mention 支持底部通讯录和日历
      - 纸张和工具栏自适应页面宽度
      - 支持宽表格
    - 🚀 优化
      - 列表初始化性能
  - 表格
    - 🌟 新增
      - @ Mention 支持底部通讯录和日历
      - 支持右键跨表格粘贴（要求 Chrome 86 版本以上）
      - 单元格支持插入多个链接
      - 工作表/单元格文字方向支持从右到左
      - 图表支持摘要图 & 样式风格优化
    - 🚀 优化
      - 滚动条交互优化
      - 表格渲染占用内存优化&批量操作性能优化
    - 🐞 修复
      - 修复切换浏览器页签后输入 @，弹框会显示到左上角的问题
      - 修复有冻结行与合并单元格时，筛选按钮绘制问题
      - 修复切换器设置面板风格换行问题
      - 修复溢出公式链接展示失效
  - 幻灯片
    - 🌟 新增
      - 评论中 @ Mention 支持底部通讯录
      - 支持文字方向和表格方向设置
      - 支持缩略图/备注展开收起
      - 支持小表格内复制粘贴替换覆盖
      - 自定义字号
      - 选择性粘贴：菜单支持常驻「选择性粘贴」入口
      - 自定义缩放比例
    - 🚀 优化
      - 插入/编辑图表时，支持取消
      - 字体列表更新
      - Mobile Web 响应超链接点击事件
      - 主题资源更新
      - 底部状态栏的 Tooltip 调整
      - 幻灯片底栏优化
    - 🐞 修复
      - 点击评论面板中的 at 人，不应该打开新页面跳转
      - at 弹窗中，英语、日语国际化 UI 适配
      - 导入不支持的视频格式时，选中视频右键，建议下载视频入口置灰，点击下载控制台报错
      - 设置切页动画自动切页（时长 20 秒），演示模式下打开自动播放，等待 20 秒后，会连续 2 页进行播放，没有等待 20 秒的问题
      - 某些幻灯片文件，进入演示模式，首页slide截图位置中文本显示不全
      - 选中图片后，从菜单导航栏中打开查看大图，没有响应
      - 形状下拉菜单中，截图中矩形下的 2 个图标使用错误，与绘制形状不一致
      - 画布中插入多个元素后，快捷键全选后，导航栏中排列菜单仍然不可用
      - 复制整张 Slide（带备注）粘贴后，备注内容丢失
      - 选择元素添加元素动画后，选中元素右键调整元素排列层级，不应该删除已添加的元素动画
      - 特定环境下切换主题，控制台报错
      - 程序异常后继续操作产生错误数据后有一定概率无法打开文档
      - 文本框和图片的组合元素中，拖动图片元素位置，文本框位置也会移动
      - 复制粘贴文本后，字号应用错误
      - 字体的检测和绘制若干问题
      - 部分情况下导入文件文本位置不居中
      - 表格复制粘贴若干问题
      - 图片、Slides 剪切粘贴成图的问题
  - 传统文档
    - 🌟 新增
      - @ Mention 支持底部通讯录和日历
    - 🚀 优化
      - 优化修订卡片性能
    - 🐞 修复
      - 修复预览报错
      - 修复形状相关错误
      - 修复书签定位错误
      - 修复科学公式相关错误
      - 修复排版相关错误
      - 修复页眉页脚相关错误
- 服务端
  - 通用接口
    - 💥 移除或不兼容
      - 废弃 **[获取历史接口](./apis.md#doc-sidebar-info)** 驼峰 (camel case) 形式路由
    - 🌟 新增
      - 支持团队、部门接入
      - 导入导出新版接口
        - 支持通过传入 `文件下载地址` 代替 `文件二进制` 导入
      - 预览创建同步接口
      - 预览支持水印展示，水印内容通过 [水印接口](./impl.md#user-watermark)获取
    - 🐞 修复
      - 重复创建版本时，提示不对的问题
      - 激活/反激活用户时，立即刷新用户状态缓存
    - 🚀 优化
      - 优化了服务的稳定性
      - 优化 Word 文档（doc,docx,wps,wpt）预览性能和稳定性
  - 导入导出
    - 传统文档
      - 🌟 新增
        - 脚注和尾注支持分隔符导入导出
      - 🐞 修复
        - 特定文档导出再导入后单元格属性丢失
        - 导入特定文档目录显示正确，导出目录丢失
    - 表格
      - 🌟 新增
        - 缩略图导出成原图
        - 支持跨表格数据验证导入导出
      - 🐞 修复
        - 导出合并工作表丢失文字居中样式
        - 修复单元格富文本超链接相关问题
    - 幻灯片
      - 🚀 优化
        - 优化服务稳定性
- 📚 接入文档
  - 💥 移除或不兼容
    - 废弃 **[获取历史列表接口](./apis.md#doc-sidebar-info)** 驼峰形式 `/shimo-files/{fileId}/docSidebarInfo`，仅提供 `/shimo-files/{fileId}/doc-sidebar-info`
  - 🌟 新增
    - **[团队和部门](./concepts/team_department.md)** 概念及接入方实现接口文档说明
    - 新版本的 **[导入导出](./apis.md#import-export)** 接口，及导入导出接口添加 `获取进度结果缓存时间`、`任务最长执行时间` 说明
  - 🐞 修复
    - 移除 JS SDK 不能单独通过 js 引入的描述


----
## `Version 2022.5.1`
### 2022-04

- 编辑器
  - [shimo-js-sdk](https://www.npmjs.com/package/shimo-js-sdk) 最低版本要求 `0.15.0`，低于这个版本部分功能会异常
  - 轻文档
    - 🌟 新增
      - 底部状态栏（演示模式按钮）
    - 🚀 优化
      - 初始化性能优化
  - 表格
    - 💥 移除或不兼容
      - 隐藏合并工作表链接输入框
    - 🌟 新增
      - sheet 栏新增演示模式入口
    - 🚀 优化
      - 增加打印快捷键
      - 合并工作表弹框高度自适应
      - 调整附件上传失败的提示
      - 首屏渲染优化
    - 🐞 修复
      - 修复锁定只能录入时筛选权限判断的问题
      - 修复获取指向此选区的链接功能 sheetId 不对的问题
      - 修复移动端查找替换样式的问题
      - 修复选择整列后会滚动到首行的问题
      - 修复跨表格引用无法选择范围的问题
  - 幻灯片
    - 🐞 修复
      - 修复评论时搜索报错
      - 修复iPad Pro 被错误显示为PC视图
      - 修复快捷键全选操作时，工具栏未更新
  - 传统文档
    - 🌟 新增
      - 支持 Mobile Web 评论 & at 功能
      - 支持 Mobile Web 表格编辑
      - 文档内 at 时间根据日期、时区展示
    - 🚀 优化
      - 表格属性添加翻译，UI 调整
      - 日文翻译
      - 工具栏添加连续编号入口
    - 🐞 修复
      - 首次渲染没有纸张内容
      - 浮动表格弹框选择绝对定位时，相对定位的下拉菜单可能不消失
      - 字体选框模糊
      - 打开文档结构图后，刷新文档，文档结构图不会自动打开
      - 预览出错问题
      - 文档宽度变化的时更新光标位置
      - 修复绘制页码的逻辑错误
      - 修复插入表格后，选中表格单元格后撤销报错
      - 限制编辑下禁止拖拽
      - 已知稳定性问题、已知排版问题
- 服务端
  - 石墨接口
    - 🌟 新增
      - 新版导入文件、新版获取导入进度接口
      - 新版导入接口支持通过url导入文件
      - 新版导出文件、新版获取导出进度接口，同一个文档支持同时导出不同的类型
    - 🐞 修复
      - 部分签名无效场景未正确返回错误信息问题
      - 签名部分 [`iat` (issued at time)](https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-token-claims#reserved-claims) 字段容忍 5 分钟以内的误差
        - 当签名被校验时，若服务器当前时间与 iat 指定时间误差绝对值小于 5 分钟内，此签名认为 iat 有效
      - 较大文件创建副本时报错的问题
  - 服务商接口
    - 🌟 新增
      - SDK 事件增加 `版本` 事件，增加  `更新`、`删除` 操作数据
- 📚 接入文档
  - 石墨接口
    - 修正了 `创建协同文档副本` 接口的示例
    - 新增了导入导出错误码说明
  - 服务商接口
    - `/events` 事件接口中 [`版本`](./impl.md#events-revision) 事件，增加 `更新`、`删除` 操作类型数据
    - 部分接口添加 `X-Shimo-Credential-Type` 凭证类型 Header 说明
      - [获取文件元信息-协同文档自动任务](./impl.md#file-meta-admin)
      - [根据指定用户获取文件元信息-协同文档](./impl.md#file-meta-by-uid)

----
## `Version 2022.4.1`
### 2022-03

- 编辑器
  - 轻文档
    - 🚀 优化
      - 优化禁止复制时的提示文案
    - 🐞 修复
      - 修复企业微信小表格剪切问题
  - 表格
    - 🚀 优化
      - 单元格/浮动图片支持复制到微信
    - 🐞 修复
      - 修复排序后，视图上备注位置没有更新的问题
      - 修复创建副本丢失分组
      - 修复附件预览点击下载会下载多次
      - 修复插入图片大小被限制的问题
  - 幻灯片
    - 🚀 优化
      - 协作 UI 单元格 Hover 效果细化
    - 🐞 修复
      - 链接框关闭后，无法聚焦输入
      - 缩进数据导入兼容
      - 竖排文本框拖动渲染异常
      - 只读模式下，不绘制协作者信息
  - 传统文档
    - 🌟 新增
      - 支持初始化编辑器时，传入参数 [定位至 at 人的位置](https://github.com/shimohq/shimo-js-sdk#%E6%89%93%E5%BC%80%E7%BC%96%E8%BE%91%E5%99%A8%E6%97%B6%E5%AE%9A%E4%BD%8D%E8%87%B3%E5%9C%A8%E6%AD%A3%E6%96%87%E4%B8%AD-at-%E6%9F%90%E7%94%A8%E6%88%B7%E7%9A%84%E4%BD%8D%E7%BD%AE)
- 服务端
  - 💥 移除或不兼容
    - 石墨接口
      - 移除已废弃的接口说明 `账号与应用管理` 下的 `创建接入账号` 、 `登录接入账号` 、 `创建应用获取信息` 、 `更新应用信息`
      - 使用 `石墨 API` 或 `协同编辑` 等功能，需要请求接入方回调接口获取当前用户信息时，若获取用户信息失败，将会尽早的返回相应错误 ( HTTP `4XX` 接入方 `参数`、`回调` 错误，HTTP `5XX` 石墨 `内部` 错误 )，不再作为匿名身份继续访问，以免出现不符合预期问题
  - 🌟 新增
    - 石墨接口
      - 增加 `获取文件中的评论数` 接口
      - 预览增加[支持格式](./roll.md#preview-supported-types)
        - `xlsm`
        - `md`
        - `heic`、`heif`
        - `ofd`
    - 服务商接口
      - SDK 事件增加 `版本` 事件
- 📚 接入文档
  - 石墨接口
    - 补充了 `获取历史列表` 缺失的分页参数说明
    - 补充了 `获取历史列表` 返回数据中历史类型的解释
    - 添加 [获取文件中的评论数](./apis.md#get-comment-count) 接口的描述
    - 校正接口响应示例中的 JSON 格式
  - 服务商接口
    - 移除了 `文件` 相关接口 Example 中不必要的字段
    - 补充了相关 `文件` 接口关于 `file.fullUrl` 的描述
    - 校正接口响应示例中的 JSON 格式
    - 补充了 `/search` 接口响应结果中 `count`、`page`、`pageSize`、`pageCount` 字段含义的说明
    - `/events` 事件接口，`文件内容更新`、`文档协作者协同状态变化` 事件增加 Header 说明
    - `常见功能场景相关接口清单` - [`使用专业表格跨表格公式、合并工作表时`](./impl.md#feature-sheets) 描述更新
  - 开发资源
    - 🌟 增加
      - 增加了 [回调凭证类型](./resources.md#credential-types) 的说明

## `Version 2022.2.2`
### 2022-02

- 编辑器
  - 表格
    - 🐞 修复
      - 在评论中 at 文件时，地址错误及刷新后评论中 at 文件链接无法点击问题
- 服务端
  - 💥 移除或不兼容
    - 使用 `石墨 API` 或 `协同编辑` 等功能，需要请求接入方回调接口获取当前用户信息时，若获取用户信息失败，将会返回相应错误，不再作为匿名身份继续访问

----

## `Version 2022.2.1`
### 2022-02

- 编辑器
  - 轻文档
    - 🌟 新增
      - at 第三方非石墨文件时，支持在编辑器中对文件进行预览，需要当前用户对于指定文件拥有 `permissions.readable = true` 权限，支持格式参考 [文件预览-支持格式](./roll.md#preview-supported-types)
      - 支持初始化编辑器时，传入参数 [定位至 at 人的位置](https://github.com/shimohq/shimo-js-sdk#%E6%89%93%E5%BC%80%E7%BC%96%E8%BE%91%E5%99%A8%E6%97%B6%E5%AE%9A%E4%BD%8D%E8%87%B3%E5%9C%A8%E6%AD%A3%E6%96%87%E4%B8%AD-at-%E6%9F%90%E7%94%A8%E6%88%B7%E7%9A%84%E4%BD%8D%E7%BD%AE)
    - 🐞 修复
      - iOS 标题宽度问题
      - iOS 设备 title 无法滑动的问题
      - 无法编辑默认样式问题
  - 表格
    - 🌟 新增
      - 支持初始化编辑器时，传入参数 [定位至 at 人的位置](https://github.com/shimohq/shimo-js-sdk#%E6%89%93%E5%BC%80%E7%BC%96%E8%BE%91%E5%99%A8%E6%97%B6%E5%AE%9A%E4%BD%8D%E8%87%B3%E5%9C%A8%E6%AD%A3%E6%96%87%E4%B8%AD-at-%E6%9F%90%E7%94%A8%E6%88%B7%E7%9A%84%E4%BD%8D%E7%BD%AE)
      - 底部状态栏增加全屏按钮
    - 🐞 修复
      - 日期提醒数据同步问题
      - iOS Safari 上传图片失败问题
      - 修复切换标签页后控制台出现 `post message timeout` 错误的问题
  - 传统文档
    - 💥 移除
      - “插入 - 图片 - 从 URL 上传图片” 功能
    - 🐞 修复
      - at 文件时报错及屏幕宽度适配问题
  - 幻灯片
    - 🌟 新增
      - 插入视频支持
      - 左侧缩略图展示协作者信息
      - 底部增加全屏按钮
    - 🐞 修复
      - 列表悬挂缩进的显示问题
      - 字体检测失败问题
      - 移动端无法唤起键盘问题
- 服务端
  - 💥 移除或不兼容
    - 石墨接口
      - 默认将不再提供 `账号与应用管理` 下的 `创建接入账号` 、 `登录接入账号` 、 `创建应用获取信息` 、 `更新应用信息` ，获取应用信息及更新 endpointUrl 操作将提供使用 `appId` 、 `secret` 签名方式访问的接口，见新增接口
  - 🌟 新增
    - 石墨接口
      - 增加 `获取文件内容中所有的 at 人信息列表` 接口，支持文件类型：`轻文档`、`表格`、`传统文档`
      - 增加 `获取 app 详情` 接口用于获取 app 名称、可使用文件类型、已激活用户数、用户总数、席位数、license 有效时间、回调地址信息
      - 增加 `更新 app 回调地址` 接口用于更新 app 对应服务商回调地址
      - 导入 `xlsm` 格式支持
    - 服务商接口
      - SDK 事件增加 `文档协作者协同状态变化` 事件
  - 🐞 修复
    - 删除文件失败时，数据异常问题
    - 轻文档插入日期
      - 多人勾选「提醒我」状态保存失败
      - 事件推送数据不正确问题
      - 在图片后插入日期报错问题
    - 短时间内进行席位激活/席位取消操作时，用户状态不符合预期的问题
- 📚 接入文档
  - 石墨接口
    - 新增 [获取文件内容中所有的 at 人信息列表](./apis.md#获取文件内容中所有的-at-人信息列表) 接口，用于获取文件内容中所有 at 人信息列表，支持文件类型：`轻文档`、`表格`、`传统文档`
    - 增加 [获取 app 详情](./apis.md#get-app-detail) 接口
    - 增加 [更新 app 回调地址](./apis.md#update-app-endpoint-url) 接口
    - 增加 [文档协作者协同状态变化](./impl.md#文档协作者协同状态变化-collaborator) 事件
    - 导入导出
      - 新增 `xlsm` 格式导入支持
  - 其他
    - 支持按 SDK 版本查看接口、文档变更情况

----
## `Version 2022.1.1`
### 2022-01

- 📚 接入文档
  - 服务商接口
    - 事件推送接口，细分各个子事件数据结构说明
    - 补充文档元信息中 `permissions.manageable` 权限的说明
    - 修正 `GET /users/batch/get` 的 HTTP method 为 `POST /users/batch/get`
  - 石墨接口
    - 补充预览支持的文件扩展名说明
    - 补充用户席位中的`未使用`状态和`自动激活席位`的说明
  - 其他
    - 右上角增加关键字检索文档支持

### 2021-12

- 📚 接入文档
  - 服务商接口
    - 文件元信息-预览
      - 增加 `ext` 字段，可显示指定对应文件的扩展名信息
      - 增加 `permissions.readable` 字段，用于对预览的用户身份做读权限校验
    - 协作者列表接口，增加 `isManager` 字段指定对应用户是否为此文件的管理者，用于表格锁定权限判断
    - 事件接口
      - 评论事件，若评论内容中有 at 用户，会在评论事件中通过 `userIds` 字段推送相应用户列表
    - 补充根据关键字搜索的 `/search` 接口，对于 `type` 参数的说明
    - 新增`水印接口`，接入方可实现用于自定义编辑器水印行为
    - 增加 **增加常见功能相关回调接口清单** ，用于描述常见场景使用到的接口便于接入方了解需要实现的接口
    - 修正获取文件列表接口 (`GET /files`) 接口字段描述
  - 石墨接口
    - 导出，更新支持格式信息
