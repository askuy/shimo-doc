---
title: 概述
description: 什么是回调接口，为什么要配置回调接口
keywords:
  [石墨文档, 文档中台, 协同办公, 在线文档, 文件共享, 接入方, 回调接口, 回调凭证]
sidebar_position: 1
---

## 什么是“回调”{#what-is-callback}

石墨文档中台专注于对文档本身的预览、编辑以及协同功能，对接入方系统中的用户信息、组织架构、文件权限等方面都没有入侵，这意味着石墨文档中台不会存储这些数据。
因此，石墨文档中台需要从接入方的系统中获取相关数据，获取数据的方式为调用 HTTP 接口，这一过程我们称之为“回调”。

为实现“回调”过程，在对接石墨文档中台时，接入方需要提供一系列 HTTP 回调接口，让石墨文档中台可以获取文件元信息（包括文件下载地址，文件权限信息等）、当前用户信息、组织架构信息等，用于打通石墨文档中台与接入方文件系统。这些接口的定义详见本章后续内容。

## 回调凭证类型{#credential-types}

请求回调接口存在不同的触发场景，因此存在不同的凭证类型，通过回调请求的 HTTP Header 指定 `X-Shimo-Credential-Type`。

已知的凭证类型：

- `X-Shimo-Credential-Type` == `0`，此类型通常是由用户的操作行为触发，比如打开页面、编辑文件等，请求会通过 HTTP Header `X-Shimo-Token` 携带用户在浏览器操作时接入方颁发的 `token`。
- `X-Shimo-Credential-Type` == `3`, 此类型通常由石墨文档中台主动触发，如跨表格引用的更新等，请求会通过 HTTP Header `X-Shimo-Signature` 根据接入方当前的 `appId` `secret` 主动签名后供接入方回调进行校验，确认此请求是否来自石墨文档中台。
